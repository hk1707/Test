(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[352],{5846:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/edit/[id]",function(){return s(919)}])},2670:function(e,r,s){"use strict";s.d(r,{$:function(){return t}});var n=s(5893);function t(){return(0,n.jsx)("div",{className:"text-center p-3",children:(0,n.jsx)("span",{className:"spinner-border spinner-border-lg align-center"})})}},2565:function(e,r,s){"use strict";s.d(r,{A:function(){return f}});var n=s(5893),t=s(1163),a=s(2287),i=s(5496),c=s(4231),l=s(6253),o=s(8704),u=s(9847);function d(e,r,s){return r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function m(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),n.forEach((function(r){d(e,r,s[r])}))}return e}function f(e){var r,s,d,f,p=function(e){return o.W.register(e).then((function(){u.A.success("User added",{keepAfterRouteChange:!0}),N.push(".")})).catch(u.A.error)},v=function(e,r){return o.W.update(e,r).then((function(){u.A.success("User updated",{keepAfterRouteChange:!0}),N.push("..")})).catch(u.A.error)},h=null===e||void 0===e?void 0:e.user,b=!h,N=(0,t.useRouter)(),j=c.Ry().shape({firstName:c.Z_().required("First Name is required"),lastName:c.Z_().required("Last Name is required"),username:c.Z_().required("Username is required"),password:c.Z_().transform((function(e){return""===e?void 0:e})).concat(b?c.Z_().required("Password is required"):null).min(6,"Password must be at least 6 characters")}),x={resolver:(0,i.X)(j)};b||(x.defaultValues=e.user);var g=(0,a.cI)(x),w=g.register,_=g.handleSubmit,y=g.reset,k=g.formState,S=k.errors;return(0,n.jsxs)("form",{onSubmit:_((function(e){return b?p(e):v(h.id,e)})),children:[(0,n.jsxs)("div",{className:"form-row",children:[(0,n.jsxs)("div",{className:"form-group col",children:[(0,n.jsx)("label",{children:"First Name"}),(0,n.jsx)("input",m({name:"firstName",type:"text"},w("firstName"),{className:"form-control ".concat(S.firstName?"is-invalid":"")})),(0,n.jsx)("div",{className:"invalid-feedback",children:null===(r=S.firstName)||void 0===r?void 0:r.message})]}),(0,n.jsxs)("div",{className:"form-group col",children:[(0,n.jsx)("label",{children:"Last Name"}),(0,n.jsx)("input",m({name:"lastName",type:"text"},w("lastName"),{className:"form-control ".concat(S.lastName?"is-invalid":"")})),(0,n.jsx)("div",{className:"invalid-feedback",children:null===(s=S.lastName)||void 0===s?void 0:s.message})]})]}),(0,n.jsxs)("div",{className:"form-row",children:[(0,n.jsxs)("div",{className:"form-group col",children:[(0,n.jsx)("label",{children:"Username"}),(0,n.jsx)("input",m({name:"username",type:"text"},w("username"),{className:"form-control ".concat(S.username?"is-invalid":"")})),(0,n.jsx)("div",{className:"invalid-feedback",children:null===(d=S.email)||void 0===d?void 0:d.message})]}),(0,n.jsxs)("div",{className:"form-group col",children:[(0,n.jsxs)("label",{children:["Password",!b&&(0,n.jsx)("em",{className:"ml-1",children:"(Leave blank to keep the same password)"})]}),(0,n.jsx)("input",m({name:"password",type:"password"},w("password"),{className:"form-control ".concat(S.password?"is-invalid":"")})),(0,n.jsx)("div",{className:"invalid-feedback",children:null===(f=S.password)||void 0===f?void 0:f.message})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("button",{type:"submit",disabled:k.isSubmitting,className:"btn btn-primary mr-2",children:[k.isSubmitting&&(0,n.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Save"]}),(0,n.jsx)("button",{onClick:function(){return y(x.defaultValues)},type:"button",disabled:k.isSubmitting,className:"btn btn-secondary",children:"Reset"}),(0,n.jsx)(l.r,{href:"/users",className:"btn btn-link",children:"Cancel"})]})]})}},2822:function(e,r,s){"use strict";s.d(r,{A:function(){return t}});var n=s(5893);function t(e){var r=e.children;return(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)("div",{className:"container",children:r})})}},919:function(e,r,s){"use strict";s.r(r),s.d(r,{__N_SSP:function(){return u}});var n=s(5893),t=s(7294),a=s(2822),i=s(2565),c=s(2670),l=s(8704),o=s(9847),u=!0;r.default=function(e){var r=e.id,s=(0,t.useState)(null),u=s[0],d=s[1];return(0,t.useEffect)((function(){l.W.getById(r).then((function(e){return d(e)})).catch(o.A.error)}),[]),(0,n.jsxs)(a.A,{children:[(0,n.jsx)("h1",{children:"Edit User"}),u?(0,n.jsx)(i.A,{user:u}):(0,n.jsx)(c.$,{})]})}}},function(e){e.O(0,[978,774,888,179],(function(){return r=5846,e(e.s=r);var r}));var r=e.O();_N_E=r}]);